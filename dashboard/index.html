<!DOCTYPE html>
<html>
<head>
  <title>Football Streams</title>
</head>
<body>
  <h1>Gameweek Access</h1>
  <div id="content">Verifying access...</div>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const token = urlParams.get("token");
    const content = document.getElementById("content");

    if (!token) {
      content.innerHTML = 'No access token provided.';
    } else {
      fetch(`/api/verify-token?token=${token}`)
        .then(res => res.json())
        .then(data => {
          if (data.valid) {
            content.innerHTML = `
              <h2>Links Unlocked:</h2>
              <ul>
                <li><a href="https://streamed.pk/embed/match1" target="_blank">Match 1</a></li>
                <li><a href="https://streamed.pk/embed/match2" target="_blank">Match 2</a></li>
                <li><a href="https://streamed.pk/embed/match3" target="_blank">Match 3</a></li>
                <li><a href="https://streamed.pk/embed/match4" target="_blank">Match 4</a></li>
                <li><a href="https://streamed.pk/embed/match5" target="_blank">Match 5</a></li>
              </ul>
            `;
          } else {
            content.innerHTML = 'Invalid or expired token. Please purchase access.';
          }
        });
    }
  </script>
</body>
</html>
